% ======================================
% æ–‡æ¡£åŸºç¡€è®¾ç½®
% ======================================
$if(passoptions)$
$passoptions$
$endif$
\documentclass[
    a4paper,                   % A4çº¸å¼ 
    12pt,                      % ä¸»è¦å­—å·
    oneside,                   % å•é¢æ‰“å°
    openany,                   % ç« èŠ‚å¯ä»¥ä»ä»»æ„é¡µå¼€å§‹
    UTF8                       % UTF-8ç¼–ç 
]{article}

% åŸºç¡€åŒ…åŠ è½½
\usepackage{graphicx}           % å›¾ç‰‡æ”¯æŒï¼ˆç§»åˆ°æœ€å‰é¢ï¼‰
\usepackage{float}              % æµ®åŠ¨ä½“
\usepackage{amssymb}           % æ•°å­¦ç¬¦å·ï¼ŒåŒ…å«æ–¹æ¡†
\usepackage{pifont}            % æä¾›æ›´å¤šç¬¦å·
\usepackage{wasysym}           % æä¾›å¤é€‰æ¡†ç¬¦å·

% å®šä¹‰å¤é€‰æ¡†å‘½ä»¤
\newcommand{\checkbox}{\ding{113}}            % ç©ºå¿ƒæ–¹æ¡†
\newcommand{\checkedbox}{\ding{114}}          % å‹¾é€‰çš„æ–¹æ¡†
\newcommand{\crossbox}{\ding{116}}            % æ‰“å‰çš„æ–¹æ¡†

% å›¾ç‰‡è·¯å¾„å’Œæ ¼å¼è®¾ç½®
\graphicspath{{./}{./images/}}  % æ·»åŠ å›¾ç‰‡æœç´¢è·¯å¾„
\DeclareGraphicsExtensions{.pdf,.png,.jpg,.jpeg}  % æ”¯æŒçš„å›¾ç‰‡æ ¼å¼

% ======================================
% åŸºç¡€åŒ…åŠ è½½ - ç¼–ç ä¸è¯­è¨€æ”¯æŒ
% ======================================
\usepackage{ucs}                % Unicode å­—ç¬¦æ”¯æŒ
\usepackage{ifxetex}            % XeTeX æ¡ä»¶æ”¯æŒ
\usepackage{ifluatex}           % LuaTeX æ¡ä»¶æ”¯æŒ
\usepackage{fixltx2e}           % ä¿®å¤ä¸€äº› LaTeX2e çš„å·²çŸ¥é—®é¢˜

% ======================================
% ä¸­æ–‡æ”¯æŒé…ç½® - å­—ä½“ä¸æ’ç‰ˆ
% ======================================
\usepackage{ctex}               % ä¸­æ–‡æ’ç‰ˆæ”¯æŒ
\usepackage{xeCJK}             % ä¸­æ–‡å­—ä½“æ”¯æŒ
\usepackage{zhnumber}          % ä¸­æ–‡æ•°å­—æ”¯æŒ

% ======================================
% åŸºç¡€åŠŸèƒ½åŒ…
% ======================================
\usepackage{calc}               % è®¡ç®—åŠŸèƒ½
\usepackage{xcolor}             % é¢œè‰²æ”¯æŒ
\usepackage{caption}            % æ ‡é¢˜
\usepackage{subcaption}         % å­æ ‡é¢˜
\usepackage{fancyhdr}           % é¡µçœ‰é¡µè„š
\usepackage{geometry}           % é¡µé¢å¸ƒå±€
\usepackage{hyperref}           % è¶…é“¾æ¥æ”¯æŒ
\usepackage{listings}           % ä»£ç å±•ç¤º
\usepackage{enumitem}           % è‡ªå®šä¹‰åˆ—è¡¨æ ·å¼
\usepackage{pgffor}

% ======================================
% è¡¨æ ¼ç›¸å…³åŒ…
% ======================================
\usepackage{array}             % è¡¨æ ¼å¢å¼º
\usepackage{longtable}         % é•¿è¡¨æ ¼
\usepackage{booktabs}          % ä¸“ä¸šè¡¨æ ¼çº¿
\usepackage{multirow}          % è·¨è¡Œ
\usepackage{tabularx}          % è¡¨æ ¼å®½åº¦
\usepackage{colortbl}          % è¡¨æ ¼é¢œè‰²
\usepackage{makecell}          % å•å…ƒæ ¼
\usepackage{threeparttable}    % è¡¨æ ¼æ³¨é‡Š
\usepackage{diagbox}           % å¯¹è§’çº¿è¡¨å¤´
\usepackage{rotating}          % æ—‹è½¬
\usepackage{wrapfig}           % å›¾æ–‡æ··æ’

% ======================================
% å¯è§†åŒ–ç›¸å…³åŒ…
% ======================================
\usepackage{tcolorbox}          % æ–‡æœ¬æ¡†
\usepackage{tikz}               % ç»˜å›¾
\usepackage{pgfplots}          % æ•°æ®å¯è§†åŒ–
\usepackage{fontawesome5}      % å›¾æ ‡
\usepackage{siunitx}           % å•ä½

% TikZ åº“åŠ è½½
\usetikzlibrary{
    shapes,
    arrows,
    positioning,
    mindmap,
    trees,
    backgrounds,
    fit,
    calc
}

% tcolorbox é…ç½®
\tcbuselibrary{skins}
\tcbuselibrary{breakable}

% ======================================
% é¡µé¢å¸ƒå±€è®¾ç½®
% ======================================
\geometry{
    a4paper,
    top=2.0cm,
    bottom=2.0cm,
    left=2.5cm,
    right=1.5cm,
    headheight=1.5cm,
    headsep=0.8cm,
    footskip=1.5cm,
    includehead,
    includefoot
}

% ä¸­æ–‡å­—ä½“è®¾ç½®
\setCJKmainfont{Microsoft YaHei}[
    BoldFont={Microsoft YaHei Bold},
    FallBack={SimSun},
    ItalicFont={KaiTi}
]
\setCJKsansfont{Microsoft YaHei}[
    FallBack={SimHei}
]
\setCJKmonofont{Microsoft YaHei}[
    FallBack={SimFang}
]













% ======================================
% é¢œè‰²å®šä¹‰
% ======================================
% ç‹„è€å…‹å“ç‰Œè‰²ç³»
\definecolor{dnakePrimary}{RGB}{0, 82, 156}
\definecolor{dnakeSecondary}{RGB}{0, 166, 214}
\definecolor{dnakeAccent}{RGB}{255, 102, 0}

% åŒ»ç–—åœºæ™¯è‰²ç³»
\definecolor{medicalBlue}{RGB}{41, 128, 185}
\definecolor{safetyGreen}{RGB}{46, 204, 113}
\definecolor{warningYellow}{RGB}{241, 196, 15}
\definecolor{urgentRed}{RGB}{231, 76, 60}
\definecolor{neutralGray}{RGB}{149, 165, 166}

% ======================================
% å…¨å±€æ ·å¼è®¾ç½®
% ======================================

% è°ƒæ•´æ®µé—´è·
%\setlength{\parskip}{0.5em} % 0.5em æ˜¯æ®µé—´è·ï¼Œå¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´


% é‡æ–°å®šä¹‰ç« èŠ‚æ ‡è®°æ ¼å¼
\renewcommand{\sectionmark}[1]{\markright{#1}}  % ä¸€çº§æ ‡é¢˜ä¸æ˜¾ç¤ºç¼–å·
\renewcommand{\subsectionmark}[1]{\markright{#1}}  % äºŒçº§æ ‡é¢˜ä¸æ˜¾ç¤ºç¼–å·

% é¡µçœ‰é¡µè„š
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\textcolor{dnakePrimary}{ç‹„è€å…‹ç‰©è”æ™ºæ…§}}
\fancyhead[R]{\textcolor{dnakePrimary}{\rightmark}}
\fancyfoot[C]{\thepage}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}

% è¡¨æ ¼æ ·å¼
\setlength{\arrayrulewidth}{0.4pt}                  % å‡å°è¡¨æ ¼çº¿å®½åº¦
\setlength{\tabcolsep}{6pt}                         % å‡å°åˆ—é—´è·
\renewcommand{\arraystretch}{1.1}                   % å‡å°è¡Œé—´è·
\setlength{\extrarowheight}{1pt}                    % å‡å°é¢å¤–è¡Œé«˜

% å®šä¹‰è¡¨æ ¼é»˜è®¤å­—ä½“å¤§å°
\newcommand{\tablefontsize}{\fontsize{9}{10}\selectfont}    % ä½¿ç”¨9ptå­—å·ï¼Œ11ptè¡Œè·
\AtBeginEnvironment{tabular}{\tablefontsize}                % è‡ªåŠ¨åº”ç”¨åˆ°æ‰€æœ‰è¡¨æ ¼
\AtBeginEnvironment{longtable}{\tablefontsize}              % åº”ç”¨åˆ°é•¿è¡¨æ ¼
\AtBeginEnvironment{tabularx}{\tablefontsize}               % åº”ç”¨åˆ°tabularxç¯å¢ƒ

% æµ®åŠ¨ä½“è®¾ç½®
\floatplacement{table}{H}
\floatplacement{figure}{H}  % è®¾ç½®figureç¯å¢ƒé»˜è®¤ä½¿ç”¨Hé€‰é¡¹

% é‡æ–°å®šä¹‰figureç¯å¢ƒï¼Œå¼ºåˆ¶ä½¿ç”¨Hé€‰é¡¹
\let\origfigure\figure
\let\endorigfigure\endfigure
\renewenvironment{figure}[1][]{%
    \origfigure[H]%
}{%
    \endorigfigure
}

% é˜²æ­¢å­¤è¡Œå’Œå¯¡è¡Œ
\clubpenalty=10000
\widowpenalty=10000
\displaywidowpenalty=10000

% å†…å­˜è®¾ç½®
\maxdeadcycles=1000
\extrafloats{1000}

% è¶…é“¾æ¥æ ·å¼
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    urlcolor=blue,
    citecolor=blue,
    breaklinks=true,
    hidelinks=false
}

% ä»£ç å—æ ·å¼
\lstset{
    basicstyle=\ttfamily\small,
    breaklines=true,
    frame=single,
    numbers=left,
    numberstyle=\tiny\color{gray},
    keywordstyle=\color{blue},
    commentstyle=\color{green!60!black},
    stringstyle=\color{purple},
    showstringspaces=false,
    tabsize=4,
    backgroundcolor=\color{gray!10},
    captionpos=t,
    framexleftmargin=4mm,
    framexrightmargin=4mm,
    aboveskip=\medskipamount,
    belowskip=\medskipamount
}

% tcolorbox é»˜è®¤æ ·å¼
\tcbset{
    enhanced,
    sharp corners,
    colback=white,
    colframe=dnakePrimary,
    fonttitle=\bfseries
}

% è¡¨æ ¼æ ‡é¢˜æ ·å¼
\captionsetup[table]{
    format=hang,
    labelsep=quad,
    font={small,bf},
    skip=6pt,
    position=top,
    labelfont={color=dnakePrimary},
    textfont={color=dnakePrimary}
}

% å®šä¹‰æ–°çš„åˆ—ç±»å‹
\newcolumntype{L}[1]{>{\raggedright\arraybackslash}p{#1}}
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}}
\newcolumntype{R}[1]{>{\raggedleft\arraybackslash}p{#1}}
\newcolumntype{M}[1]{>{\centering\arraybackslash}m{#1}}


% è®¾ç½®åˆ—å®½çš„å‘½ä»¤
\newcommand{\setcolumnwidths}[1]{%
    \typeout{Debug: Setting column widths to #1}% è¾“å‡ºå½“å‰åˆ—å®½è®¾ç½®
    \setlengths{#1} % ç›´æ¥è°ƒç”¨ setlengths
}

\newlength{\someLength} % å®šä¹‰é•¿åº¦å˜é‡

% è¿™é‡Œæ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå‡è®¾ä½ æœ‰å¤šä¸ªåˆ—å®½
\newcommand{\setlengths}[1]{%
    \message{Debug: Column widths are set to #1}% è¾“å‡ºå½“å‰å¤„ç†çš„é•¿åº¦
    \def\delimiter{,} % å®šä¹‰åˆ†éš”ç¬¦ä¸ºé€—å·
    \foreach \length in {#1} {%
        \message{Debug: Processing length \length}% è¾“å‡ºå½“å‰å¤„ç†çš„é•¿åº¦
        \setlength{\someLength}{\length}% è¿™é‡Œçš„ \someLength åº”è¯¥æ˜¯æ‚¨è¦è®¾ç½®çš„é•¿åº¦å˜é‡
    }
}

% ======================================
% pandocå˜é‡å¤„ç†
% ======================================
$if(fontsize)$
\renewcommand{\normalsize}{\fontsize{$fontsize$}{1.2\real{$fontsize$}}\selectfont}
$endif$

$if(linestretch)$
\usepackage{setspace}
\setstretch{$linestretch$}
$endif$

$if(highlighting-macros)$
$highlighting-macros$
$endif$

%$if(tables)$
%\usepackage{calc}
%\usepackage{wrapfig}
%\floatplacement{table}{H}
%$endif$


%
% tables
%
$if(tables)$

\definecolor{table-row-color}{HTML}{F5F5F5}
\definecolor{table-rule-color}{HTML}{999999}

%\arrayrulecolor{black!40}
\arrayrulecolor{table-rule-color}     % color of \toprule, \midrule, \bottomrule
\setlength\heavyrulewidth{0.3ex}      % thickness of \toprule, \bottomrule
\renewcommand{\arraystretch}{1.3}     % spacing (padding)

$if(table-use-row-colors)$
% Unfortunately the colored cells extend beyond the edge of the
% table because pandoc uses @-expressions (@{}) like so:
%
% \begin{longtable}[]{@{}ll@{}}
% \end{longtable}
%
% https://en.wikibooks.org/wiki/LaTeX/Tables#.40-expressions
\usepackage{etoolbox}
\AtBeginEnvironment{longtable}{\rowcolors{2}{}{table-row-color!100}}
\preto{\toprule}{\hiderowcolors}{}{}
\appto{\endhead}{\showrowcolors}{}{}
\appto{\endfirsthead}{\showrowcolors}{}{}
$endif$
$endif$




% ======================================
% Pandoc ç‰¹å®šå‘½ä»¤å®šä¹‰
% ======================================
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}%
}

% ======================================
% å›¾ç‰‡è®¾ç½®
% ======================================
% å›¾ç‰‡æ ‡é¢˜æ ·å¼
\captionsetup[figure]{
    format=hang,
    labelsep=quad,
    font={small,bf},
    skip=6pt,
    position=bottom,
    labelfont={color=dnakePrimary},
    textfont={color=dnakePrimary}
}

% å›¾ç‰‡æµ®åŠ¨è®¾ç½®
\renewcommand{\textfraction}{0.15}
\renewcommand{\topfraction}{0.85}
\renewcommand{\bottomfraction}{0.65}
\renewcommand{\floatpagefraction}{0.60}

% Pandoc å›¾ç‰‡å¤„ç†å‘½ä»¤
\makeatletter
\newcommand{\maxwidth}{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\newcommand{\maxheight}{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\newcommand{\pandocbounded}[1]{%
  \def\@captype{figure}%
  \centering%
  #1%
}
\makeatother

% å›¾ç‰‡é»˜è®¤é€‰é¡¹
\setkeys{Gin}{width=\linewidth}

% ======================================
% åŒ»ç–—è§£å†³æ–¹æ¡ˆä¸“ç”¨å‘½ä»¤
% ======================================
% è§£å†³æ–¹æ¡ˆé‡ç‚¹æ ‡è®°
\newcommand{\solution}[1]{\textcolor{dnakePrimary}{\textbf{#1}}}
% æ ¸å¿ƒä¼˜åŠ¿æ ‡è®°
\newcommand{\advantage}[1]{\colorbox{dnakeSecondary!20}{\textcolor{dnakePrimary}{#1}}}
% æ”¿ç­–è¦ç‚¹æ ‡è®°
\newcommand{\policy}[1]{\textcolor{medicalBlue}{\textit{#1}}}
% å®‰å…¨ä¿éšœæ ‡è®°
\newcommand{\safety}[1]{\textcolor{safetyGreen}{\textbf{#1}}}
% æ•ˆç‡æå‡æ ‡è®°
\newcommand{\efficiencymark}[1]{\textcolor{dnakeAccent}{\textbf{#1}}}
% è­¦ç¤ºä¿¡æ¯æ ‡è®°
\newcommand{\warning}[1]{\textcolor{warningYellow}{\textbf{âš  #1}}}
% ç´§æ€¥ä¿¡æ¯æ ‡è®°
\newcommand{\urgent}[1]{\textcolor{urgentRed}{\textbf{â—#1}}}
% å¤‡æ³¨ä¿¡æ¯æ ‡è®°
\newcommand{\remark}[1]{\textcolor{neutralGray}{\small{ğŸ’¡ #1}}}

% æ–¹æ¡ˆäº®ç‚¹æ¡†
\newcommand{\highlight}[2][dnakeSecondary!10]{%
    \begin{tcolorbox}[
        colback=#1,
        colframe=dnakePrimary,
        arc=2mm,
        boxrule=0.5pt
    ]
    #2
    \end{tcolorbox}
}

% åŒ»ç–—æ•°æ®å±•ç¤ºæ¡†
\newcommand{\databox}[2]{%
    \begin{tcolorbox}[
        colback=white,
        colframe=medicalBlue,
        arc=0mm,
        boxrule=1pt,
        title=#1
    ]
    #2
    \end{tcolorbox}
}

% åŒ»ç–—æŒ‡æ ‡å±•ç¤º
\newcommand{\metric}[2]{%
    \begin{tcolorbox}[
        colback=white,
        colframe=medicalBlue,
        width=0.45\textwidth,
        halign=center
    ]
    {\Large\textbf{#1}}\\[0.2cm]
    {\small #2}
    \end{tcolorbox}
}

% ç³»ç»Ÿæ¶æ„å›¾
\newcommand{\systemarch}[1]{%
    \begin{center}
    \begin{tikzpicture}[node distance=2cm]
    #1
    \end{tikzpicture}
    \end{center}
}

% åŒ»ç–—æµç¨‹å›¾
\newcommand{\workflow}[1]{%
    \begin{center}
    \begin{tikzpicture}[
        node distance=2cm,
        process/.style={
            rectangle,
            rounded corners,
            draw=dnakePrimary,
            fill=white,
            text width=2.5cm,
            minimum height=1cm,
            align=center
        },
        arrow/.style={
            ->,
            >=latex,
            thick,
            draw=dnakePrimary
        }
    ]
    #1
    \end{tikzpicture}
    \end{center}
}

% åŒ»ç–—è®¾å¤‡å›¾æ ‡
\newcommand{\meddevice}[1]{%
    \raisebox{-0.1em}{\textcolor{dnakePrimary}{\faIcon{#1}}}
}

% åŒ»ç–—å®‰å…¨ç­‰çº§
\newcommand{\safetylevel}[1]{%
    \textcolor{safetyGreen}{%
        \ifnum#1>0\faIcon{shield}\fi
        \ifnum#1>1\faIcon{shield}\fi
        \ifnum#1>2\faIcon{shield}\fi
    }%
}

% æ•ˆç‡æå‡æŒ‡æ ‡
\newcommand{\efficiencymetric}[2]{%
    \textcolor{dnakeAccent}{%
        \faIcon{chart-line} #1\% (#2)%
    }%
}

% ======================================
% åŒ»ç–—è§£å†³æ–¹æ¡ˆä¸“ç”¨ç¯å¢ƒ
% ======================================
% æ–¹æ¡ˆä¼˜åŠ¿ç¯å¢ƒ
\newenvironment{advantages}{%
    \begin{tcolorbox}[
        title=æ–¹æ¡ˆä¼˜åŠ¿,
        colback=dnakeSecondary!5,
        colframe=dnakeSecondary,
        breakable
    ]
    \begin{itemize}
}{%
    \end{itemize}
    \end{tcolorbox}
}

% æ”¿ç­–ç¬¦åˆåº¦ç¯å¢ƒ
\newenvironment{policycompliance}{%
    \begin{tcolorbox}[
        title=æ”¿ç­–ç¬¦åˆåº¦åˆ†æ,
        colback=medicalBlue!5,
        colframe=medicalBlue,
        breakable
    ]
    \begin{description}
}{%
    \end{description}
    \end{tcolorbox}
}

% å®æ–½æ•ˆæœç¯å¢ƒ
\newenvironment{implementation}{%
    \begin{tcolorbox}[
        title=å®æ–½æ•ˆæœ,
        colback=safetyGreen!5,
        colframe=safetyGreen,
        breakable
    ]
}{%
    \end{tcolorbox}
}

% æˆæœ¬æ”¶ç›Šç¯å¢ƒ
\newenvironment{costbenefit}{%
    \begin{tcolorbox}[
        title=æˆæœ¬æ”¶ç›Šåˆ†æ,
        colback=dnakeAccent!5,
        colframe=dnakeAccent,
        breakable
    ]
}{%
    \end{tcolorbox}
}

% ======================================
% æ–‡æ¡£ä¿¡æ¯è®¾ç½®
% ======================================
$if(title)$
\title{$title$}
$endif$
$if(author)$
\author{$for(author)$$author$$sep$ \and $endfor$}
$endif$
$if(date)$
\date{$date$}
$endif$

% ======================================
% å››çº§æ ‡é¢˜æ ¼å¼è®¾ç½®
% ======================================
\usepackage{titlesec}  % å¼•å…¥ titlesec åŒ…ä»¥è‡ªå®šä¹‰æ ‡é¢˜æ ¼å¼

% è‡ªå®šä¹‰å››çº§æ ‡é¢˜æ ¼å¼
\titleformat{\paragraph}
  {\normalfont\normalsize\bfseries} % å­—ä½“æ ·å¼
  {\theparagraph}                     % æ ‡é¢˜ç¼–å·
  {1em}                               % æ ‡é¢˜ä¸å†…å®¹ä¹‹é—´çš„é—´è·
  {}                                   % æ ‡é¢˜å‰çš„ä»£ç ï¼ˆå¯ä»¥ä¸ºç©ºï¼‰

% è‡ªå®šä¹‰å››çº§æ ‡é¢˜çš„é—´è·
\titlespacing*{\paragraph}
  {0pt}                               % å·¦è¾¹è·
  {3.25ex plus 1ex minus .2ex}       % ä¸Šè¾¹è·
  {1em}                               % ä¸‹è¾¹è·

% ======================================
% æ–‡æ¡£ä¸»ä½“
% ======================================
\begin{document}

% Add cover page before content
\begin{titlepage}
    \thispagestyle{empty}
    \begin{center}
        \vspace*{2cm}
        \includegraphics[width=0.5\textwidth]{_assets/images/logo.png} \\[2cm]

        % åˆ¤æ–­æ˜¯å¦å­˜åœ¨åŒ»é™¢åç§°
        $if(hospital)$
        \textbf{\Huge $hospital$ }\\[0.8cm] % ä½¿ç”¨ YAML ä¸­çš„åŒ»é™¢åç§°
        $endif$

        % åˆ¤æ–­æ˜¯å¦å­˜åœ¨è§£å†³æ–¹æ¡ˆåç§°
        $if(solution)$
        \textbf{\LARGE $solution$} \\[5cm] % ä½¿ç”¨ YAML ä¸­çš„è§£å†³æ–¹æ¡ˆåç§°
        $endif$

        % åˆ¤æ–­æ˜¯å¦å­˜åœ¨å…¬å¸åç§°
        $if(company)$
        \textbf{\Large $company$} \\[1cm] % ä½¿ç”¨ YAML ä¸­çš„å…¬å¸åç§°
        $endif$

        % åˆ¤æ–­æ˜¯å¦å­˜åœ¨æ—¥æœŸ
        $if(date)$
        \textbf{\large $date$} \\[3cm] % ä½¿ç”¨ YAML ä¸­çš„æ—¥æœŸ
        $endif$


        \vfill
        %\small æœ¬æ–¹æ¡ˆç¬¦åˆå›½å®¶ç”µå­ç—…å†è¯„çº§ã€äº’è”äº’é€šæˆç†Ÿåº¦è¯„ä»·ç­‰æ”¿ç­–è¦æ±‚
    \end{center}
    \newpage
\end{titlepage}



$if(abstract)$
\begin{abstract}
$abstract$
\end{abstract}
$endif$


% ç”Ÿæˆç›®å½•
$if(toc)$
\tableofcontents
%\newpage
$endif$


% ======================================
% è‡ªå®šä¹‰ä¸€çº§æ ‡é¢˜æ ¼å¼
% ======================================
\let\oldsection\section
\renewcommand{\section}[1]{%
    \newpage % å¼ºåˆ¶æ¢é¡µ
    \oldsection{#1} % è°ƒç”¨åŸå§‹çš„ section å‘½ä»¤
}


$body$

\end{document}
